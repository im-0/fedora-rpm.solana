From 5a01f0b07aab5ae908edd66f5da492d680c66547 Mon Sep 17 00:00:00 2001
From: Ivan Mironov <mironov.ivan@gmail.com>
Date: Tue, 7 Feb 2023 00:07:34 +0100
Subject: [PATCH 2/3] Manually vendor the patched crossbeam

Cargo does not support this: https://github.com/rust-lang/cargo/issues/9172
---
 Cargo.toml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Cargo.toml b/Cargo.toml
index 7af78952aaa1..7760af21e130 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -402,7 +402,7 @@ zstd = "0.11.2"
 
 [patch.crates-io]
 # for details, see https://github.com/solana-labs/crossbeam/commit/fd279d707025f0e60951e429bf778b4813d1b6bf
-crossbeam-epoch = { git = "https://github.com/solana-labs/crossbeam", rev = "fd279d707025f0e60951e429bf778b4813d1b6bf" }
+crossbeam-epoch = { path = "./solana-crossbeam/crossbeam-epoch" }
 
 # Rust 1.69+ broke ntapi v0.3.x, which doesn't contain proper fix:
 #   https://github.com/MSxDOS/ntapi/pull/12
-- 
2.41.0

